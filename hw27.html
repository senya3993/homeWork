<head>
	 <meta charset="utf-8">
	<title>Задание №27</title>
</head>

<body>
	<h1 align="center">VALID_FORM</h1>

    Для внесения вашего сайта в каталог, заполните форму:
    <form name='INFO' action='http://fe.it-academy.by/TestForm.php' novalidate>
    <table>
    <tr><td>Разработчики:</td><td><input type='text' name='author' style='width: 453px'></td></tr>
    <tr><td>Название сайта:</td><td><input type='text' name='title' style='width: 453px'></td></tr>
    <tr><td>URL сайта:</td><td><input type='text' name='web' placeholder="http://www.example.com" style='width: 300px'></td></tr>
    <tr><td>Дата запуска сайта:</td><td><input type='date' name='startdate' style='width: 120px'></td></tr>
    <tr><td>Посетителей в сутки:</td><td><input type='text' name='persons' style='width: 120px'></td></tr>
    <tr><td>E-mail для связи:</td><td><input type='text' name='email' style='width: 200px'></td></tr>
    <tr><td>Рубрика каталога:</td><td style='padding-left: 1px'>
      <select name='rubric' style='width: 204px; margin-left: 2px'>
      <option value=1>здоровье</option>
      <option value=2>домашний уют</option>
      <option value=3 selected>бытовая техника</option>
      </select>
    </td></tr>
    <tr><td>Размещение:</td><td style='padding: 2px 0 2px 0'>
      <input type='radio' id='pub1' name='public' value=1><span >бесплатное</span>
      <input type='radio' name='public' value=2><span>платное</span>
      <input type='radio' name='public' value=3><span >VIP</span>
    </td></tr>
    <tr><td style='padding: 2px 0 3px 3px'>Разрешить отзывы:</td><td><input type='checkbox' name='comments'></td></tr>
    <tr><td colspan=2>Описание сайта:<br />
    <textarea name='article' style='width: 608px; height: 50px'></textarea></td></tr>
    <tr><td><input type='submit' value='Опубликовать'></td><td></td></tr>
    </table>
    </form>  

<script>

  "use strict";

  var formTag=document.forms.INFO; 
  formTag.addEventListener('submit',validateInfoForm,false); 

  function validateInfoForm(EO) {
      EO=EO||window.event;
      try {
          var formTag=document.forms.INFO;

          var authorField=formTag.elements.author; 
          var authorValue=authorField.value; 

          var titleField=formTag.elements.title; 
          var titleValue=titleField.value; 

          var webField=formTag.elements.web; 
          var webValue=webField.value; 
          var web=webValue.split("/");

          var personsField=formTag.elements.persons;
          var personsValue=parseInt(personsField.value.trim()); 

          var emailField=formTag.elements.email; 
          var emailValue=emailField.value; 

          var commentsField=formTag.elements.comments;
          var commentsValue=commentsField.checked; 

          var rubricField=formTag.elements.rubric;
          var rubricValue=rubricField.value; 
          var lpublicField=formTag.elements.public;
          var publicValue=lpublicField.value; 

          if ( authorValue=="" ) { 
                alert('Введите хотя бы одну фвмилию!');
                authorField.focus();
                EO.preventDefault(); 
                return;
          }

          if ( (titleValue=="") || (titleValue.length>50) ) { 
                alert('Название сайта и компактость его записи необходимы!');
                titleField.focus();
                EO.preventDefault(); 
                return;
          }

          if (( web[0]!=="http:" ) || (web[1]="")){ 
                alert('Добавьте URL. \nПример заполнения: "http://www.example.com".');
                webField.focus();
                EO.preventDefault(); 
                return;
          }

          if ( isNaN(personsValue) ) {
              alert('Введите пожалуйста в поле корректную цифру!');
              personsField.focus();
              EO.preventDefault(); 
              return;
          }

          if ( emailValue=="" ) { 
                alert('Введите E-mail!');
                emailField.focus();
                EO.preventDefault(); 
                return;
          }

          if ( publicValue=="") {
              alert('Вы не выбрали тип размещения!');
              EO.preventDefault(); 
              return;
          }

          if ( !commentsValue ) {
              alert('Вы не согласились с правилами сайта! Отзывы обязательны.');
              commentsField.focus();
              EO.preventDefault(); 
              return;
          }
      }
      catch ( ex ) {
          EO.preventDefault(); 
      }
      alert('Cпасибо! С вами свяжутся по введенному E-mail'); 
  }

</script>
</body>
</html>